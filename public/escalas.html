<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quadro de Distribuição de Guarnições - 20ª CIPM</title>
    <link rel="icon" href="/favicon.ico" sizes="32x32">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/favicon.svg">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* Estilos aprimorados para botões administrativos */
        .edit-btn, .admin-only {
            cursor: pointer !important;
            pointer-events: auto !important;
            position: relative;
            z-index: 10;
        }
        
        .admin-only {
            display: none;
        }
        
        body {
            background-color: #f0f2f5;
            color: #333;
        }
        
        header {
            background: linear-gradient(135deg, #1a237e, #283593, #3949ab, #303f9f);
            color: white;
            padding: 1.8rem 2.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.25);
            position: relative;
            overflow: hidden;
            border-bottom: 3px solid #ff0000;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                linear-gradient(135deg, rgba(255, 255, 255, 0.05) 25%, transparent 25%), 
                linear-gradient(225deg, rgba(255, 255, 255, 0.05) 25%, transparent 25%), 
                linear-gradient(45deg, rgba(255, 255, 255, 0.05) 25%, transparent 25%), 
                linear-gradient(315deg, rgba(255, 255, 255, 0.05) 25%, transparent 25%);
            background-position: 10px 0, 10px 0, 0 0, 0 0;
            background-size: 20px 20px;
            opacity: 0.7;
            z-index: 1;
        }
        
        header * {
            position: relative;
            z-index: 2;
        }
        
        .header-title {
            display: flex;
            align-items: flex-start;
        }
        
        .title-container {
            display: flex;
            flex-direction: column;
            position: relative;
            padding-left: 15px;
        }
        
        .title-container::before {
            content: '';
            position: absolute;
            left: 0;
            top: 5px;
            bottom: 5px;
            width: 4px;
            background: linear-gradient(to bottom, #ffcc00, #ff9900);
            border-radius: 2px;
        }
        
        .unit-name {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.9);
            margin-top: 3px;
            letter-spacing: 0.5px;
            font-weight: 300;
        }
        
        .slogan {
            font-size: 0.9rem;
            font-style: italic;
            color: rgba(255, 255, 255, 0.9);
            margin-top: 8px;
            letter-spacing: 0.5px;
            font-weight: 300;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 6px;
            max-width: 300px;
        }
        
        h1 {
            margin: 0;
            font-size: 2rem;
            font-weight: 800;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.25);
            background: linear-gradient(90deg, #ffffff, #f0f4ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 1px;
            position: relative;
            font-family: 'Arial', sans-serif;
            padding-bottom: 2px;
        }
        
        .header-buttons {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(to right, rgba(255,255,255,0.1), rgba(255,255,255,0.2));
            border: 1px solid rgba(255,255,255,0.3);
            padding: 0.7rem 1.3rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            backdrop-filter: blur(4px);
            color: white;
            text-decoration: none;
            font-weight: 500;
        }
        
        .btn:hover {
            background: linear-gradient(to right, rgba(255,255,255,0.2), rgba(255,255,255,0.3));
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.25);
        }
        
        .main-content {
            max-width: 1200px;
            margin: 1.5rem auto;
            padding: 1rem;
        }
        
        .section {
            background-color: white;
            border-radius: 12px;
            padding: 1.8rem;
            margin-bottom: 2.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        
        .section-title {
            color: #1e3a8a;
            margin-top: 0;
            font-size: 1.5rem;
            border-left: 4px solid #3b82f6;
            padding-left: 10px;
        }
        
        .section-subtitle {
            color: #4b5563;
            margin-top: 0.5rem;
            font-size: 1.1rem;
            font-weight: normal;
        }
        
        /* Estilos da Escala e Quadro */
        .escala-container {
            background-color: #f8fafc;
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .escala-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .escala-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #1e3a8a;
            margin-bottom: 0.5rem;
        }
        
        .escala-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 8px;
            margin-bottom: 2rem;
        }
        
        .dia-container {
            border-radius: 8px;
            overflow: hidden;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        /* Destacar quintas-feiras (dia de troca) */
        .dia-container.dia-troca {
            background: linear-gradient(to bottom, #f0f9ff, #e6f7ff);
            border: 1px solid #93c5fd;
            box-shadow: 0 3px 10px rgba(59, 130, 246, 0.15);
            position: relative;
        }
        
        .dia-container.dia-troca::after {
            content: '↻';
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 12px;
            color: #3b82f6;
            background-color: #f0f9ff;
            height: 18px;
            width: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            border: 1px solid #bfdbfe;
        }
        
        .dia-container:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.15);
        }
        
        .dia-header {
            background-color: #1e3a8a;
            color: white;
            padding: 5px 0;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .dia-data {
            background-color: #f1f5f9;
            padding: 4px 0;
            font-size: 0.75rem;
            color: #64748b;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .dia-equipe {
            padding: 8px 0;
            font-weight: bold;
            font-size: 0.9rem;
            color: white;
        }
        
        .alfa {
            background: linear-gradient(45deg, #ffcc00, #ffd700);
            color: #333;
        }
        
        .bravo {
            background: linear-gradient(45deg, #00897b, #4db6ac);
        }
        
        .charlie {
            background: linear-gradient(45deg, #e53935, #ef5350);
        }
        
        /* Estilos para as equipes */
        .equipes-container {
            margin-top: 2rem;
        }
        
        .equipe-box {
            margin-bottom: 1.5rem;
            padding: 1.2rem;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .equipe-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
        }
        
        .equipe-alfa {
            background-color: #fffceb;
            border: 1px solid #ffecb3;
        }
        
        .equipe-alfa::before {
            background: linear-gradient(to right, #ffd700, #ffcc00);
        }
        
        .equipe-bravo {
            background-color: #e6f7f5;
            border: 1px solid #b2dfdb;
        }
        
        .equipe-bravo::before {
            background: linear-gradient(to right, #00897b, #4db6ac);
        }
        
        .equipe-charlie {
            background-color: #feeeee;
            border: 1px solid #ffcdd2;
        }
        
        .equipe-charlie::before {
            background: linear-gradient(to right, #e53935, #ef5350);
        }
        
        .equipe-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: #1e293b;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .equipe-title-badge {
            padding: 4px 12px;
            border-radius: 25px;
            font-size: 0.8rem;
            color: white;
        }
        
        .badge-alfa {
            background: linear-gradient(45deg, #ffcc00, #ffd700);
            color: #333;
        }
        
        .badge-bravo {
            background: linear-gradient(45deg, #00897b, #4db6ac);
        }
        
        .badge-charlie {
            background: linear-gradient(45deg, #e53935, #ef5350);
        }
        
        .equipe-membros {
            list-style-type: none;
            padding: 0;
            columns: 2;
        }
        
        .equipe-membro {
            padding: 6px 10px;
            margin-bottom: 8px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 6px;
            font-size: 0.95rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            display: inline-block;
            width: 95%;
        }
        
        .equipe-membro strong {
            color: #1e3a8a;
        }
        
        /* Seção de férias, licenças e expediente */
        .info-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        /* Estilos para os aniversariantes */
        .aniversariantes-container {
            margin-top: 1rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #f3e8ff, #e0e7ff);
            border-radius: 12px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #8b5cf6;
        }
        
        .aniversariantes-titulo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.3rem;
            font-weight: bold;
            color: #1e293b;
            margin-bottom: 1.2rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px solid rgba(139, 92, 246, 0.3);
        }
        
        .aniversariantes-icone {
            font-size: 1.5rem;
        }
        
        .aniversariantes-lista {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .aniversariante-card {
            background-color: white;
            border-radius: 10px;
            padding: 1.2rem;
            flex: 1;
            min-width: 250px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .aniversariante-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }
        
        .aniversariante-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(to right, #8b5cf6, #c4b5fd);
        }
        
        .aniversariante-card::after {
            content: '🎂';
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 1.5rem;
            opacity: 0.3;
        }
        
        .aniversariante-nome {
            font-weight: bold;
            font-size: 1.1rem;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }
        
        .aniversariante-data {
            font-size: 0.9rem;
            color: #6b7280;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .aniversariante-cargo {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: #8b5cf6;
            font-weight: 500;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .aniversariante-destaque {
            animation: pulse 2s infinite;
        }
        
        .info-box {
            padding: 1.2rem;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            background-color: #f8fafc;
            border-left: 4px solid #6366f1;
        }
        
        .info-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: #1e293b;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .info-list {
            list-style-type: none;
            padding-left: 0;
        }
        
        .info-item {
            padding: 8px 0;
            font-size: 0.95rem;
            border-bottom: 1px dashed #e2e8f0;
        }
        
        .info-item:last-child {
            border-bottom: none;
        }
        
        .info-destaque {
            font-weight: bold;
            color: #0f766e;
            background-color: rgba(15, 118, 110, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .box-ferias {
            border-left-color: #f59e0b;
        }
        
        .box-licencas {
            border-left-color: #ef4444;
        }
        
        .box-expediente {
            border-left-color: #10b981;
        }
        
        footer {
            background: linear-gradient(to right, #1a237e, #283593);
            color: white;
            text-align: center;
            padding: 1.5rem;
            margin-top: 3rem;
            box-shadow: 0 -4px 12px rgba(0,0,0,0.15);
        }
        
        /* Responsividade */
        /* Estilos para botões de edição */
        .edit-btn {
            background-color: rgba(59, 130, 246, 0.1);
            cursor: pointer !important;
            pointer-events: auto !important;
            color: #3b82f6;
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 6px;
            padding: 5px 10px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .edit-btn:hover {
            background-color: rgba(59, 130, 246, 0.2);
            transform: translateY(-2px);
        }
        
        .aniversariantes-titulo,
        .equipe-title,
        .info-title {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        /* Estilos para os modais */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .modal-overlay.active {
            visibility: visible;
            opacity: 1;
        }
        
        .modal-container {
            background-color: white;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            padding: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        
        .modal-overlay.active .modal-container {
            transform: translateY(0);
        }
        
        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .modal-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #1e3a8a;
        }
        
        .modal-close {
            background-color: transparent;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            color: #64748b;
            transition: color 0.2s ease;
        }
        
        .modal-close:hover {
            color: #e11d48;
        }
        
        .modal-body {
            margin-bottom: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #334155;
        }
        
        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #cbd5e1;
            border-radius: 6px;
            font-size: 0.95rem;
            transition: border-color 0.2s ease;
            margin-bottom: 0.5rem;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #cbd5e1;
            border-radius: 6px;
            font-size: 0.95rem;
            transition: border-color 0.2s ease;
            margin-bottom: 0.5rem;
            background-color: white;
        }
        
        .form-select:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .form-button {
            padding: 0.6rem 1.2rem;
            background-color: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease;
        }
        
        .form-button:hover {
            background-color: #2563eb;
            transform: translateY(-2px);
        }
        
        .form-button.cancel {
            background-color: #f1f5f9;
            color: #64748b;
            border: 1px solid #cbd5e1;
            margin-right: 0.5rem;
        }
        
        .form-button.cancel:hover {
            background-color: #e2e8f0;
        }
        
        .form-button.danger {
            background-color: #ef4444;
        }
        
        .form-button.danger:hover {
            background-color: #dc2626;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
            padding-top: 1rem;
            border-top: 1px solid #e2e8f0;
        }
        
        .item-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            margin-bottom: 1rem;
            padding: 0.5rem 0;
        }
        
        .item-row {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .item-row:last-child {
            border-bottom: none;
        }
        
        .item-text {
            flex: 1;
        }
        
        .item-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .item-btn {
            background-color: transparent;
            border: none;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            color: #64748b;
            transition: color 0.2s ease, background-color 0.2s ease;
        }
        
        .item-btn:hover {
            background-color: rgba(100, 116, 139, 0.1);
        }
        
        .item-btn.edit:hover {
            color: #0284c7;
        }
        
        .item-btn.delete:hover {
            color: #e11d48;
        }
        
        .login-form {
            max-width: 350px;
            margin: 0 auto;
        }
        
        /* Alertas */
        .alert {
            padding: 0.75rem 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }
        
        .alert-info {
            background-color: #e0f2fe;
            color: #0284c7;
            border-left: 4px solid #0284c7;
        }
        
        .alert-error {
            background-color: #fee2e2;
            color: #b91c1c;
            border-left: 4px solid #b91c1c;
        }
        
        .alert-success {
            background-color: #dcfce7;
            color: #15803d;
            border-left: 4px solid #15803d;
        }
        
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 15px;
                padding: 1.5rem 1.2rem;
            }
            
            h1 {
                font-size: 1.5rem;
                letter-spacing: 1px;
                text-align: center;
            }
            
            .title-container {
                padding-left: 0;
                align-items: center;
                text-align: center;
            }
            
            .title-container::before {
                display: none;
            }
            
            .unit-name {
                font-size: 0.85rem;
                text-align: center;
            }
            
            .slogan {
                font-size: 0.8rem;
                max-width: 100%;
                text-align: center;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .escala-grid {
                grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            }
            
            .equipe-membros {
                columns: 1;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-title">
            <div class="title-container">
                <h1>QUADRO DE DISTRIBUIÇÃO</h1>
                <div class="unit-name">20ª Companhia Independente de Polícia Militar</div>
                <div class="slogan">"Guardiões da paz, escudos da justiça"</div>
            </div>
        </div>
        <div class="header-buttons">
            <a href="/" class="btn">
                <span>🏆</span>
                <span>Sistema de Meritocracia</span>
            </a>
        </div>
    </header>
    
    <div class="main-content">
        <div class="section">
            <div class="section-header">
                <h2 class="section-title">Quadro de Distribuição de Guarnições</h2>
                <div class="section-subtitle">Abril 2025 - Sede</div>
            </div>
            
            <!-- Seção de Aniversariantes do Mês -->
            <div class="aniversariantes-container">
                <div class="aniversariantes-titulo">
                    <span class="aniversariantes-icone">🎂</span>
                    Aniversariantes do Mês de Abril
                    <button id="editAniversariantesBtn" class="edit-btn admin-only" style="display: none;">
                        <span>✏️</span> Editar
                    </button>
                </div>
                <div class="aniversariantes-lista">
                    <div class="aniversariante-card aniversariante-destaque">
                        <div class="aniversariante-nome">TEN VANILSON</div>
                        <div class="aniversariante-data">
                            <span>🗓️</span>
                            <span>15 de Abril</span>
                        </div>
                        <div class="aniversariante-cargo">Chefe do P2 e P4</div>
                    </div>
                    <div class="aniversariante-card aniversariante-destaque">
                        <div class="aniversariante-nome">SD DA SILVA</div>
                        <div class="aniversariante-data">
                            <span>🗓️</span>
                            <span>22 de Abril</span>
                        </div>
                        <div class="aniversariante-cargo">Equipe Charlie</div>
                    </div>
                </div>
            </div>
            
            <div class="escala-container">
                <div class="escala-header">
                    <div class="escala-title">ABRIL 2025</div>
                </div>
                
                <div class="escala-grid">
                    <!-- Primeira semana -->
                    <div class="dia-container">
                        <div class="dia-header">01/04</div>
                        <div class="dia-data">TER</div>
                        <div class="dia-equipe charlie">CHARLIE</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">02/04</div>
                        <div class="dia-data">QUA</div>
                        <div class="dia-equipe charlie">CHARLIE</div>
                    </div>
                    <div class="dia-container dia-troca">
                        <div class="dia-header">03/04</div>
                        <div class="dia-data">QUI</div>
                        <div class="dia-equipe charlie">CHARLIE</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">04/04</div>
                        <div class="dia-data">SEX</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">05/04</div>
                        <div class="dia-data">SÁB</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">06/04</div>
                        <div class="dia-data">DOM</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">07/04</div>
                        <div class="dia-data">SEG</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    
                    <!-- Segunda semana -->
                    <div class="dia-container">
                        <div class="dia-header">08/04</div>
                        <div class="dia-data">TER</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">09/04</div>
                        <div class="dia-data">QUA</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container dia-troca">
                        <div class="dia-header">10/04</div>
                        <div class="dia-data">QUI</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                        <div class="dia-equipe alfa">ALFA</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">11/04</div>
                        <div class="dia-data">SEX</div>
                        <div class="dia-equipe alfa">ALFA</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">12/04</div>
                        <div class="dia-data">SÁB</div>
                        <div class="dia-equipe alfa">ALFA</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">13/04</div>
                        <div class="dia-data">DOM</div>
                        <div class="dia-equipe alfa">ALFA</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">14/04</div>
                        <div class="dia-data">SEG</div>
                        <div class="dia-equipe alfa">ALFA</div>
                    </div>
                    
                    <!-- Terceira semana -->
                    <div class="dia-container">
                        <div class="dia-header">15/04</div>
                        <div class="dia-data">TER</div>
                        <div class="dia-equipe alfa">ALFA</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">16/04</div>
                        <div class="dia-data">QUA</div>
                        <div class="dia-equipe alfa">ALFA</div>
                    </div>
                    <div class="dia-container dia-troca">
                        <div class="dia-header">17/04</div>
                        <div class="dia-data">QUI</div>
                        <div class="dia-equipe alfa">ALFA</div>
                        <div class="dia-equipe charlie">CHARLIE</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">18/04</div>
                        <div class="dia-data">SEX</div>
                        <div class="dia-equipe charlie">CHARLIE</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">19/04</div>
                        <div class="dia-data">SÁB</div>
                        <div class="dia-equipe charlie">CHARLIE</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">20/04</div>
                        <div class="dia-data">DOM</div>
                        <div class="dia-equipe charlie">CHARLIE</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">21/04</div>
                        <div class="dia-data">SEG</div>
                        <div class="dia-equipe charlie">CHARLIE</div>
                    </div>
                    
                    <!-- Quarta semana -->
                    <div class="dia-container">
                        <div class="dia-header">22/04</div>
                        <div class="dia-data">TER</div>
                        <div class="dia-equipe charlie">CHARLIE</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">23/04</div>
                        <div class="dia-data">QUA</div>
                        <div class="dia-equipe charlie">CHARLIE</div>
                    </div>
                    <div class="dia-container dia-troca">
                        <div class="dia-header">24/04</div>
                        <div class="dia-data">QUI</div>
                        <div class="dia-equipe charlie">CHARLIE</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">25/04</div>
                        <div class="dia-data">SEX</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">26/04</div>
                        <div class="dia-data">SÁB</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">27/04</div>
                        <div class="dia-data">DOM</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">28/04</div>
                        <div class="dia-data">SEG</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    
                    <!-- Quinta semana -->
                    <div class="dia-container">
                        <div class="dia-header">29/04</div>
                        <div class="dia-data">TER</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">30/04</div>
                        <div class="dia-data">QUA</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                    </div>
                    <div class="dia-container dia-troca">
                        <div class="dia-header">01/05</div>
                        <div class="dia-data">QUI</div>
                        <div class="dia-equipe bravo">BRAVO</div>
                        <div class="dia-equipe alfa">ALFA</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">02/05</div>
                        <div class="dia-data">SEX</div>
                        <div class="dia-equipe alfa">ALFA</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">03/05</div>
                        <div class="dia-data">SÁB</div>
                        <div class="dia-equipe alfa">ALFA</div>
                    </div>
                    <div class="dia-container">
                        <div class="dia-header">04/05</div>
                        <div class="dia-data">DOM</div>
                        <div class="dia-equipe alfa">ALFA</div>
                    </div>
                </div>
            </div>
            
            <div class="equipes-container">
                <div class="equipe-box equipe-alfa">
                    <div class="equipe-title">
                        <span class="equipe-title-badge badge-alfa">ALFA</span>
                        Equipe Alfa (11 Policiais)
                        <button id="editEquipeAlfaBtn" class="edit-btn admin-only" style="display: none;">
                            <span>✏️</span> Editar
                        </button>
                    </div>
                    <ul class="equipe-membros">
                        <li class="equipe-membro"><strong>2º SGT PM PEIXOTO</strong></li>
                        <li class="equipe-membro"><strong>3º SGT PM RODRIGO</strong></li>
                        <li class="equipe-membro"><strong>3º SGT PM LEDO</strong></li>
                        <li class="equipe-membro"><strong>3º SGT PM NUNES</strong></li>
                        <li class="equipe-membro"><strong>3º SGT PM AMARAL</strong></li>
                        <li class="equipe-membro"><strong>CB PM CARLA</strong></li>
                        <li class="equipe-membro"><strong>CB PM FELIPE</strong></li>
                        <li class="equipe-membro"><strong>CB PM BARROS</strong></li>
                        <li class="equipe-membro"><strong>CB PM A. SILVA</strong></li>
                        <li class="equipe-membro"><strong>SD PM LUAN</strong></li>
                        <li class="equipe-membro"><strong>SD PM NAVARRO</strong></li>
                    </ul>
                </div>
                
                <div class="equipe-box equipe-bravo">
                    <div class="equipe-title">
                        <span class="equipe-title-badge badge-bravo">BRAVO</span>
                        Equipe Bravo (9 Policiais)
                        <button id="editEquipeBravoBtn" class="edit-btn admin-only" style="display: none;">
                            <span>✏️</span> Editar
                        </button>
                    </div>
                    <ul class="equipe-membros">
                        <li class="equipe-membro"><strong>1º SGT PM OLIMAR</strong></li>
                        <li class="equipe-membro"><strong>2º SGT PM FÁBIO</strong></li>
                        <li class="equipe-membro"><strong>3º SGT PM ANA CLEIDE</strong></li>
                        <li class="equipe-membro"><strong>3º SGT PM GLEIDSON</strong></li>
                        <li class="equipe-membro"><strong>3º SGT PM CARLOS EDUARDO</strong></li>
                        <li class="equipe-membro"><strong>3º SGT PM NEGRÃO</strong></li>
                        <li class="equipe-membro"><strong>CB PM BRASIL</strong></li>
                        <li class="equipe-membro"><strong>SD PM MARVÃO</strong></li>
                        <li class="equipe-membro"><strong>SD PM IDELVAN</strong></li>
                    </ul>
                </div>
                
                <div class="equipe-box equipe-charlie">
                    <div class="equipe-title">
                        <span class="equipe-title-badge badge-charlie">CHARLIE</span>
                        Equipe Charlie (10 Policiais)
                        <button id="editEquipeCharlieBtn" class="edit-btn admin-only" style="display: none;">
                            <span>✏️</span> Editar
                        </button>
                    </div>
                    <ul class="equipe-membros">
                        <li class="equipe-membro"><strong>2º SGT PM PINHEIRO</strong></li>
                        <li class="equipe-membro"><strong>3º SGT PM RAFAEL</strong></li>
                        <li class="equipe-membro"><strong>CB PM MIQUEIAS</strong></li>
                        <li class="equipe-membro"><strong>CB PM M. PAIXÃO</strong></li>
                        <li class="equipe-membro"><strong>SD PM CHAGAS</strong></li>
                        <li class="equipe-membro"><strong>SD PM CARVALHO</strong></li>
                        <li class="equipe-membro"><strong>SD PM GOVEIA</strong></li>
                        <li class="equipe-membro"><strong>SD PM ALMEIDA</strong></li>
                        <li class="equipe-membro"><strong>SD PM PATRIK</strong></li>
                        <li class="equipe-membro"><strong>SD PM GUIMARÃES</strong></li>
                    </ul>
                </div>
            </div>
            
            <div class="info-container">
                <div class="info-box box-ferias">
                    <div class="info-title">
                        1 - FÉRIAS
                        <button id="editFeriasBtn" class="edit-btn admin-only" style="display: none;">
                            <span>✏️</span> Editar
                        </button>
                    </div>
                    <ul class="info-list">
                        <li class="info-item">
                            <span class="info-destaque">CB PM ALAX</span> (BRAVO)
                        </li>
                        <li class="info-item">
                            <span class="info-destaque">CB PM VELOSO</span> (BRAVO)
                        </li>
                    </ul>
                </div>
                
                <div class="info-box box-licencas">
                    <div class="info-title">
                        2 - LICENÇA ESPECIAL
                        <button id="editLicencasBtn" class="edit-btn admin-only" style="display: none;">
                            <span>✏️</span> Editar
                        </button>
                    </div>
                    <ul class="info-list">
                        <li class="info-item">
                            <span class="info-destaque">2º SGT PM A. TAVARES</span> (EXPEDIENTE)
                        </li>
                    </ul>
                </div>
                
                <div class="info-box box-expediente">
                    <div class="info-title">
                        3 - EXPEDIENTE
                        <button id="editExpedienteBtn" class="edit-btn admin-only" style="display: none;">
                            <span>✏️</span> Editar
                        </button>
                    </div>
                    <ul class="info-list">
                        <li class="info-item">CAP QOPM MUNIZ</li>
                        <li class="info-item">
                            <span class="info-destaque">1º TEN QOPM MONTEIRO</span> (CHEFE DO P1 E P3)
                        </li>
                        <li class="info-item">
                            <span class="info-destaque">TEN VANILSON</span> (CHEFE DO P2 E P4)
                        </li>
                        <li class="info-item">
                            <span class="info-destaque">SUB TEN ANDRÉ</span> (AUXL. DO P2)
                        </li>
                        <li class="info-item">
                            <span class="info-destaque">3º SGT PM CUNHA</span> (AUXL. DO P)
                        </li>
                        <li class="info-item">
                            <span class="info-destaque">3º SGT PM CARAVELAS</span> (AUXL. DO P4)
                        </li>
                        <li class="info-item">
                            <span class="info-destaque">CB PM TONI</span> (AUXL. DO P4)
                        </li>
                        <li class="info-item">
                            <span class="info-destaque">SD PM S. CORREA</span> (ESTAFETA)
                        </li>
                        <li class="info-item">
                            <span class="info-destaque">SD PM RODRIGUES</span> (AUXL. DO P4)
                        </li>
                    </ul>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 2rem; color: #64748b; font-size: 0.9rem;">
                <strong>TOTAL:</strong> 30 PPMM
            </div>
        </div>
    </div>
    
    <!-- Modais para edição de conteúdo -->
    <!-- Modal de Login -->
    <!-- Removido o modal de login da página de escalas para centralizar na página principal -->

    <!-- Modal de Edição de Aniversariantes -->
    <div id="aniversariantesModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Editar Aniversariantes</div>
                <button class="modal-close" id="closeAniversariantesModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="item-list" id="aniversariantesList">
                    <!-- Lista de aniversariantes será preenchida via JavaScript -->
                </div>
                <button class="form-button" id="addAniversarianteBtn">Adicionar Novo</button>
                
                <div id="aniversarianteForm" style="display: none; margin-top: 1.5rem;">
                    <h3 style="margin-bottom: 1rem; font-size: 1.1rem; color: #334155;">Dados do Aniversariante</h3>
                    <div class="form-group">
                        <label class="form-label" for="aniversarianteNome">Nome</label>
                        <input type="text" id="aniversarianteNome" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="aniversarianteData">Data do Aniversário</label>
                        <input type="date" id="aniversarianteData" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="aniversarianteCargo">Cargo/Função</label>
                        <input type="text" id="aniversarianteCargo" class="form-input" required>
                    </div>
                    <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                        <button class="form-button cancel" id="cancelAniversarianteForm">Cancelar</button>
                        <button class="form-button" id="saveAniversarianteForm">Salvar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Edição de Equipe -->
    <div id="equipeModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title" id="equipeModalTitle">Editar Equipe</div>
                <button class="modal-close" id="closeEquipeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="item-list" id="equipeMembersList">
                    <!-- Lista de membros da equipe será preenchida via JavaScript -->
                </div>
                <button class="form-button" id="addMembroBtn">Adicionar Novo</button>
                
                <div id="membroForm" style="display: none; margin-top: 1.5rem;">
                    <h3 style="margin-bottom: 1rem; font-size: 1.1rem; color: #334155;">Dados do Policial</h3>
                    <div class="form-group">
                        <label class="form-label" for="membroNome">Nome Completo</label>
                        <input type="text" id="membroNome" class="form-input" required>
                    </div>
                    <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                        <button class="form-button cancel" id="cancelMembroForm">Cancelar</button>
                        <button class="form-button" id="saveMembroForm">Salvar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Edição de Informações (Férias, Licenças, Expediente) -->
    <div id="infoModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title" id="infoModalTitle">Editar Informações</div>
                <button class="modal-close" id="closeInfoModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="item-list" id="infoList">
                    <!-- Lista de informações será preenchida via JavaScript -->
                </div>
                <button class="form-button" id="addInfoBtn">Adicionar Novo</button>
                
                <div id="infoForm" style="display: none; margin-top: 1.5rem;">
                    <h3 style="margin-bottom: 1rem; font-size: 1.1rem; color: #334155;">Dados da Informação</h3>
                    <div class="form-group">
                        <label class="form-label" for="infoTexto">Informação</label>
                        <input type="text" id="infoTexto" class="form-input" required>
                    </div>
                    <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                        <button class="form-button cancel" id="cancelInfoForm">Cancelar</button>
                        <button class="form-button" id="saveInfoForm">Salvar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        &copy; 2025 - 20ª CIPM - Quadro de Distribuição de Guarnições
    </footer>

    <script src="/pontuacoes.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Verificar se o mês atual é abril de 2025
            const today = new Date();
            const currentMonth = today.getMonth(); // 0-11, onde 3 é abril
            const currentYear = today.getFullYear();
            
            if (currentMonth !== 3 || currentYear !== 2025) {
                const alertBox = document.createElement('div');
                alertBox.style.backgroundColor = '#fef2f2';
                alertBox.style.color = '#b91c1c';
                alertBox.style.padding = '1rem';
                alertBox.style.borderRadius = '8px';
                alertBox.style.margin = '1rem auto';
                alertBox.style.maxWidth = '800px';
                alertBox.style.textAlign = 'center';
                alertBox.style.fontWeight = 'bold';
                alertBox.style.boxShadow = '0 2px 5px rgba(0,0,0,0.1)';
                alertBox.innerHTML = 'Atenção: Esta é a escala de abril de 2025. A escala atual pode ser diferente.';
                
                const mainContent = document.querySelector('.main-content');
                mainContent.insertBefore(alertBox, mainContent.firstChild);
            }
            
            // Destacar o dia atual no calendário
            const diaCells = document.querySelectorAll('.dia-container');
            const todayDay = today.getDate();
            const todayMonth = today.getMonth() + 1; // 1-12
            
            diaCells.forEach(cell => {
                const dataHeader = cell.querySelector('.dia-header').textContent;
                const [day, month] = dataHeader.split('/');
                
                if (parseInt(day) === todayDay && parseInt(month) === todayMonth) {
                    cell.style.transform = 'scale(1.05)';
                    cell.style.boxShadow = '0 0 15px rgba(59, 130, 246, 0.5)';
                    cell.style.border = '2px solid #3b82f6';
                    cell.style.position = 'relative';
                    cell.style.zIndex = '5';
                }
            });
            
            // Variáveis para os elementos da UI
            const adminButtons = document.querySelectorAll('.admin-only');
            
            // Inicialização dos dados
            function initializeLocalStorage() {
                // Inicializar aniversariantes
                if (!localStorage.getItem('aniversariantes')) {
                    const aniversariantesDefault = [
                        {
                            id: 1,
                            nome: 'TEN VANILSON',
                            data: '2025-04-15',
                            cargo: 'Chefe do P2 e P4'
                        },
                        {
                            id: 2,
                            nome: 'SD DA SILVA',
                            data: '2025-04-22',
                            cargo: 'Equipe Charlie'
                        }
                    ];
                    localStorage.setItem('aniversariantes', JSON.stringify(aniversariantesDefault));
                }
                
                // Inicializar equipes
                if (!localStorage.getItem('equipe_alfa')) {
                    const equipesDefault = {
                        alfa: [
                            '2º SGT PM PEIXOTO',
                            '3º SGT PM RODRIGO',
                            '3º SGT PM LEDO',
                            '3º SGT PM NUNES',
                            '3º SGT PM AMARAL',
                            'CB PM CARLA',
                            'CB PM FELIPE',
                            'CB PM BARROS',
                            'CB PM A. SILVA',
                            'SD PM LUAN',
                            'SD PM NAVARRO'
                        ],
                        bravo: [
                            '1º SGT PM OLIMAR',
                            '2º SGT PM FÁBIO',
                            '3º SGT PM ANA CLEIDE',
                            '3º SGT PM GLEIDSON',
                            '3º SGT PM CARLOS EDUARDO',
                            '3º SGT PM NEGRÃO',
                            'CB PM BRASIL',
                            'SD PM MARVÃO',
                            'SD PM IDELVAN'
                        ],
                        charlie: [
                            '2º SGT PM PINHEIRO',
                            '3º SGT PM RAFAEL',
                            'CB PM MIQUEIAS',
                            'CB PM M. PAIXÃO',
                            'SD PM CHAGAS',
                            'SD PM CARVALHO',
                            'SD PM GOVEIA',
                            'SD PM ALMEIDA',
                            'SD PM PATRIK',
                            'SD PM GUIMARÃES'
                        ]
                    };
                    
                    localStorage.setItem('equipe_alfa', JSON.stringify(equipesDefault.alfa));
                    localStorage.setItem('equipe_bravo', JSON.stringify(equipesDefault.bravo));
                    localStorage.setItem('equipe_charlie', JSON.stringify(equipesDefault.charlie));
                }
                
                // Inicializar informações administrativas
                if (!localStorage.getItem('info_ferias')) {
                    const infoDefault = {
                        ferias: [
                            'CB PM ALAX (BRAVO)',
                            'CB PM VELOSO (BRAVO)'
                        ],
                        licencas: [
                            '2º SGT PM A. TAVARES (EXPEDIENTE)'
                        ],
                        expediente: [
                            'CAP QOPM MUNIZ',
                            '1º TEN QOPM MONTEIRO (CHEFE DO P1 E P3)',
                            'TEN VANILSON (CHEFE DO P2 E P4)',
                            'SUB TEN ANDRÉ (AUXL. DO P2)',
                            '3º SGT PM CUNHA (AUXL. DO P)',
                            '3º SGT PM CARAVELAS (AUXL. DO P4)',
                            'CB PM TONI (AUXL. DO P4)',
                            'SD PM S. CORREA (ESTAFETA)',
                            'SD PM RODRIGUES (AUXL. DO P4)'
                        ]
                    };
                    
                    localStorage.setItem('info_ferias', JSON.stringify(infoDefault.ferias));
                    localStorage.setItem('info_licencas', JSON.stringify(infoDefault.licencas));
                    localStorage.setItem('info_expediente', JSON.stringify(infoDefault.expediente));
                }
            }
            
            // Inicialização da autenticação global
            checkGlobalAuth();
            
            // Inicialização
            initializeLocalStorage();
            
            // Implementar a edição dos aniversariantes
            const editAniversariantesBtn = document.getElementById('editAniversariantesBtn');
            const aniversariantesModal = document.getElementById('aniversariantesModal');
            const closeAniversariantesModal = document.getElementById('closeAniversariantesModal');
            const aniversariantesList = document.getElementById('aniversariantesList');
            const addAniversarianteBtn = document.getElementById('addAniversarianteBtn');
            const aniversarianteForm = document.getElementById('aniversarianteForm');
            const cancelAniversarianteForm = document.getElementById('cancelAniversarianteForm');
            const saveAniversarianteForm = document.getElementById('saveAniversarianteForm');
            
            let editingAniversarianteId = null;
            
            function openAniversariantesModal() {
                renderAniversariantesList();
                aniversariantesModal.classList.add('active');
            }
            
            function fecharAniversariantesModal() {
                aniversariantesModal.classList.remove('active');
                hideAniversarianteForm();
            }
            
            function renderAniversariantesList() {
                const aniversariantes = JSON.parse(localStorage.getItem('aniversariantes') || '[]');
                aniversariantesList.innerHTML = '';
                
                aniversariantes.forEach(aniversariante => {
                    const itemRow = document.createElement('div');
                    itemRow.className = 'item-row';
                    
                    const dataFormatada = formatarData(aniversariante.data);
                    
                    itemRow.innerHTML = `
                        <div class="item-text">
                            <strong>${aniversariante.nome}</strong> - ${dataFormatada}<br>
                            <small>${aniversariante.cargo}</small>
                        </div>
                        <div class="item-actions">
                            <button class="item-btn edit" data-id="${aniversariante.id}">✏️</button>
                            <button class="item-btn delete" data-id="${aniversariante.id}">🗑️</button>
                        </div>
                    `;
                    
                    aniversariantesList.appendChild(itemRow);
                });
                
                // Adicionar event listeners
                const editButtons = aniversariantesList.querySelectorAll('.item-btn.edit');
                const deleteButtons = aniversariantesList.querySelectorAll('.item-btn.delete');
                
                editButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const id = parseInt(btn.getAttribute('data-id'));
                        editAniversariante(id);
                    });
                });
                
                deleteButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const id = parseInt(btn.getAttribute('data-id'));
                        deleteAniversariante(id);
                    });
                });
            }
            
            function showAniversarianteForm() {
                aniversarianteForm.style.display = 'block';
                addAniversarianteBtn.style.display = 'none';
            }
            
            function hideAniversarianteForm() {
                aniversarianteForm.style.display = 'none';
                addAniversarianteBtn.style.display = 'block';
                document.getElementById('aniversarianteNome').value = '';
                document.getElementById('aniversarianteData').value = '';
                document.getElementById('aniversarianteCargo').value = '';
                editingAniversarianteId = null;
            }
            
            function addAniversariante() {
                showAniversarianteForm();
            }
            
            function editAniversariante(id) {
                const aniversariantes = JSON.parse(localStorage.getItem('aniversariantes') || '[]');
                const aniversariante = aniversariantes.find(a => a.id === id);
                
                if (aniversariante) {
                    document.getElementById('aniversarianteNome').value = aniversariante.nome;
                    document.getElementById('aniversarianteData').value = aniversariante.data;
                    document.getElementById('aniversarianteCargo').value = aniversariante.cargo;
                    editingAniversarianteId = id;
                    showAniversarianteForm();
                }
            }
            
            function saveAniversariante() {
                const nome = document.getElementById('aniversarianteNome').value;
                const data = document.getElementById('aniversarianteData').value;
                const cargo = document.getElementById('aniversarianteCargo').value;
                
                if (!nome || !data || !cargo) {
                    alert('Preencha todos os campos!');
                    return;
                }
                
                const aniversariantes = JSON.parse(localStorage.getItem('aniversariantes') || '[]');
                
                if (editingAniversarianteId) {
                    // Editar existente
                    const index = aniversariantes.findIndex(a => a.id === editingAniversarianteId);
                    if (index !== -1) {
                        aniversariantes[index] = {
                            id: editingAniversarianteId,
                            nome,
                            data,
                            cargo
                        };
                    }
                } else {
                    // Adicionar novo
                    const newId = aniversariantes.length > 0 ? Math.max(...aniversariantes.map(a => a.id)) + 1 : 1;
                    aniversariantes.push({
                        id: newId,
                        nome,
                        data,
                        cargo
                    });
                }
                
                localStorage.setItem('aniversariantes', JSON.stringify(aniversariantes));
                hideAniversarianteForm();
                renderAniversariantesList();
                updateAniversariantesUI();
            }
            
            function deleteAniversariante(id) {
                if (confirm('Tem certeza que deseja excluir este aniversariante?')) {
                    let aniversariantes = JSON.parse(localStorage.getItem('aniversariantes') || '[]');
                    aniversariantes = aniversariantes.filter(a => a.id !== id);
                    localStorage.setItem('aniversariantes', JSON.stringify(aniversariantes));
                    renderAniversariantesList();
                    updateAniversariantesUI();
                }
            }
            
            function formatarData(dataISO) {
                const data = new Date(dataISO);
                const dia = data.getDate().toString().padStart(2, '0');
                const mes = (data.getMonth() + 1).toString().padStart(2, '0');
                
                const nomesMeses = [
                    'Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho',
                    'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'
                ];
                
                return `${dia} de ${nomesMeses[data.getMonth()]}`;
            }
            
            function updateAniversariantesUI() {
                const aniversariantes = JSON.parse(localStorage.getItem('aniversariantes') || '[]');
                const container = document.querySelector('.aniversariantes-lista');
                
                // Limpar a lista de aniversariantes
                container.innerHTML = '';
                
                aniversariantes.forEach(aniv => {
                    const card = document.createElement('div');
                    card.className = 'aniversariante-card aniversariante-destaque';
                    
                    const dataFormatada = formatarData(aniv.data);
                    
                    card.innerHTML = `
                        <div class="aniversariante-nome">${aniv.nome}</div>
                        <div class="aniversariante-data">
                            <span>🗓️</span>
                            <span>${dataFormatada}</span>
                        </div>
                        <div class="aniversariante-cargo">${aniv.cargo}</div>
                    `;
                    
                    container.appendChild(card);
                });
            }
            
            // Event listeners para aniversariantes
            editAniversariantesBtn.addEventListener('click', openAniversariantesModal);
            closeAniversariantesModal.addEventListener('click', fecharAniversariantesModal);
            addAniversarianteBtn.addEventListener('click', addAniversariante);
            cancelAniversarianteForm.addEventListener('click', hideAniversarianteForm);
            saveAniversarianteForm.addEventListener('click', saveAniversariante);
            
            // Implementar edição de equipes
            const editEquipeAlfaBtn = document.getElementById('editEquipeAlfaBtn');
            const editEquipeBravoBtn = document.getElementById('editEquipeBravoBtn');
            const editEquipeCharlieBtn = document.getElementById('editEquipeCharlieBtn');
            const equipeModal = document.getElementById('equipeModal');
            const closeEquipeModal = document.getElementById('closeEquipeModal');
            const equipeMembersList = document.getElementById('equipeMembersList');
            const equipeModalTitle = document.getElementById('equipeModalTitle');
            const addMembroBtn = document.getElementById('addMembroBtn');
            const membroForm = document.getElementById('membroForm');
            const cancelMembroForm = document.getElementById('cancelMembroForm');
            const saveMembroForm = document.getElementById('saveMembroForm');
            
            let currentEquipe = null;
            let editingMembroIndex = null;
            
            function openEquipeModal(equipe) {
                currentEquipe = equipe;
                equipeModalTitle.textContent = `Editar Equipe ${equipe.toUpperCase()}`;
                renderEquipeMembersList();
                equipeModal.classList.add('active');
            }
            
            function fecharEquipeModal() {
                equipeModal.classList.remove('active');
                hideMembroForm();
                currentEquipe = null;
            }
            
            function renderEquipeMembersList() {
                const membros = JSON.parse(localStorage.getItem(`equipe_${currentEquipe}`) || '[]');
                equipeMembersList.innerHTML = '';
                
                membros.forEach((membro, index) => {
                    const itemRow = document.createElement('div');
                    itemRow.className = 'item-row';
                    
                    itemRow.innerHTML = `
                        <div class="item-text">
                            <strong>${membro}</strong>
                        </div>
                        <div class="item-actions">
                            <button class="item-btn edit" data-index="${index}">✏️</button>
                            <button class="item-btn delete" data-index="${index}">🗑️</button>
                        </div>
                    `;
                    
                    equipeMembersList.appendChild(itemRow);
                });
                
                // Adicionar event listeners
                const editButtons = equipeMembersList.querySelectorAll('.item-btn.edit');
                const deleteButtons = equipeMembersList.querySelectorAll('.item-btn.delete');
                
                editButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const index = parseInt(btn.getAttribute('data-index'));
                        editMembro(index);
                    });
                });
                
                deleteButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const index = parseInt(btn.getAttribute('data-index'));
                        deleteMembro(index);
                    });
                });
            }
            
            function showMembroForm() {
                membroForm.style.display = 'block';
                addMembroBtn.style.display = 'none';
            }
            
            function hideMembroForm() {
                membroForm.style.display = 'none';
                addMembroBtn.style.display = 'block';
                document.getElementById('membroNome').value = '';
                editingMembroIndex = null;
            }
            
            function addMembro() {
                showMembroForm();
            }
            
            function editMembro(index) {
                const membros = JSON.parse(localStorage.getItem(`equipe_${currentEquipe}`) || '[]');
                if (index >= 0 && index < membros.length) {
                    document.getElementById('membroNome').value = membros[index];
                    editingMembroIndex = index;
                    showMembroForm();
                }
            }
            
            function saveMembro() {
                const nome = document.getElementById('membroNome').value;
                
                if (!nome) {
                    alert('Preencha o nome do policial!');
                    return;
                }
                
                const membros = JSON.parse(localStorage.getItem(`equipe_${currentEquipe}`) || '[]');
                
                if (editingMembroIndex !== null) {
                    // Editar existente
                    membros[editingMembroIndex] = nome;
                } else {
                    // Adicionar novo
                    membros.push(nome);
                }
                
                localStorage.setItem(`equipe_${currentEquipe}`, JSON.stringify(membros));
                hideMembroForm();
                renderEquipeMembersList();
                updateEquipesUI();
            }
            
            function deleteMembro(index) {
                if (confirm('Tem certeza que deseja excluir este policial da equipe?')) {
                    let membros = JSON.parse(localStorage.getItem(`equipe_${currentEquipe}`) || '[]');
                    membros.splice(index, 1);
                    localStorage.setItem(`equipe_${currentEquipe}`, JSON.stringify(membros));
                    renderEquipeMembersList();
                    updateEquipesUI();
                }
            }
            
            function updateEquipesUI() {
                const equipes = ['alfa', 'bravo', 'charlie'];
                
                equipes.forEach(equipe => {
                    const membros = JSON.parse(localStorage.getItem(`equipe_${equipe}`) || '[]');
                    const container = document.querySelector(`.equipe-${equipe} .equipe-membros`);
                    container.innerHTML = '';
                    
                    membros.forEach(membro => {
                        const li = document.createElement('li');
                        li.className = 'equipe-membro';
                        li.innerHTML = `<strong>${membro}</strong>`;
                        container.appendChild(li);
                    });
                    
                    // Atualizar o contador de policiais no título de forma segura
                    // para preservar os event listeners dos botões
                    const title = document.querySelector(`.equipe-${equipe} .equipe-title`);
                    const badge = title.querySelector(`.equipe-title-badge.badge-${equipe}`);
                    const editBtn = document.getElementById(`editEquipe${equipe.charAt(0).toUpperCase() + equipe.slice(1)}Btn`);
                    
                    // Selecionar o nó de texto do título e atualizá-lo
                    // em vez de limpar todo o conteúdo HTML
                    for (let i = 0; i < title.childNodes.length; i++) {
                        if (title.childNodes[i].nodeType === Node.TEXT_NODE) {
                            title.removeChild(title.childNodes[i]);
                            break;
                        }
                    }
                    
                    // Inserir o novo texto após o badge, antes do botão
                    const newText = document.createTextNode(` Equipe ${equipe.charAt(0).toUpperCase() + equipe.slice(1)} (${membros.length} Policiais)`);
                    if (editBtn && editBtn.parentElement === title) {
                        title.insertBefore(newText, editBtn);
                    } else {
                        title.appendChild(newText);
                    }
                });
            }
            
            // Event listeners para equipes
            if (editEquipeAlfaBtn) {
                editEquipeAlfaBtn.addEventListener('click', () => openEquipeModal('alfa'));
            }
            if (editEquipeBravoBtn) {
                editEquipeBravoBtn.addEventListener('click', () => openEquipeModal('bravo'));
            }
            if (editEquipeCharlieBtn) {
                editEquipeCharlieBtn.addEventListener('click', () => openEquipeModal('charlie'));
            }
            closeEquipeModal.addEventListener('click', fecharEquipeModal);
            addMembroBtn.addEventListener('click', addMembro);
            cancelMembroForm.addEventListener('click', hideMembroForm);
            saveMembroForm.addEventListener('click', saveMembro);
            
            // Implementar edição de informações administrativas
            const editFeriasBtn = document.getElementById('editFeriasBtn');
            const editLicencasBtn = document.getElementById('editLicencasBtn');
            const editExpedienteBtn = document.getElementById('editExpedienteBtn');
            const infoModal = document.getElementById('infoModal');
            const closeInfoModal = document.getElementById('closeInfoModal');
            const infoList = document.getElementById('infoList');
            const infoModalTitle = document.getElementById('infoModalTitle');
            const addInfoBtn = document.getElementById('addInfoBtn');
            const infoForm = document.getElementById('infoForm');
            const cancelInfoForm = document.getElementById('cancelInfoForm');
            const saveInfoForm = document.getElementById('saveInfoForm');
            
            let currentInfoType = null;
            let editingInfoIndex = null;
            
            function openInfoModal(infoType) {
                const infoTypes = {
                    'ferias': 'Férias',
                    'licencas': 'Licença Especial',
                    'expediente': 'Expediente'
                };
                
                currentInfoType = infoType;
                infoModalTitle.textContent = `Editar ${infoTypes[infoType]}`;
                renderInfoList();
                infoModal.classList.add('active');
            }
            
            function closeInfoModal() {
                infoModal.classList.remove('active');
                hideInfoForm();
                currentInfoType = null;
            }
            
            function renderInfoList() {
                const infos = JSON.parse(localStorage.getItem(`info_${currentInfoType}`) || '[]');
                infoList.innerHTML = '';
                
                infos.forEach((info, index) => {
                    const itemRow = document.createElement('div');
                    itemRow.className = 'item-row';
                    
                    itemRow.innerHTML = `
                        <div class="item-text">
                            ${info}
                        </div>
                        <div class="item-actions">
                            <button class="item-btn edit" data-index="${index}">✏️</button>
                            <button class="item-btn delete" data-index="${index}">🗑️</button>
                        </div>
                    `;
                    
                    infoList.appendChild(itemRow);
                });
                
                // Adicionar event listeners
                const editButtons = infoList.querySelectorAll('.item-btn.edit');
                const deleteButtons = infoList.querySelectorAll('.item-btn.delete');
                
                editButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const index = parseInt(btn.getAttribute('data-index'));
                        editInfo(index);
                    });
                });
                
                deleteButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const index = parseInt(btn.getAttribute('data-index'));
                        deleteInfo(index);
                    });
                });
            }
            
            function showInfoForm() {
                infoForm.style.display = 'block';
                addInfoBtn.style.display = 'none';
            }
            
            function hideInfoForm() {
                infoForm.style.display = 'none';
                addInfoBtn.style.display = 'block';
                document.getElementById('infoTexto').value = '';
                editingInfoIndex = null;
            }
            
            function addInfo() {
                showInfoForm();
            }
            
            function editInfo(index) {
                const infos = JSON.parse(localStorage.getItem(`info_${currentInfoType}`) || '[]');
                if (index >= 0 && index < infos.length) {
                    document.getElementById('infoTexto').value = infos[index];
                    editingInfoIndex = index;
                    showInfoForm();
                }
            }
            
            function saveInfo() {
                const texto = document.getElementById('infoTexto').value;
                
                if (!texto) {
                    alert('Preencha a informação!');
                    return;
                }
                
                const infos = JSON.parse(localStorage.getItem(`info_${currentInfoType}`) || '[]');
                
                if (editingInfoIndex !== null) {
                    // Editar existente
                    infos[editingInfoIndex] = texto;
                } else {
                    // Adicionar novo
                    infos.push(texto);
                }
                
                localStorage.setItem(`info_${currentInfoType}`, JSON.stringify(infos));
                hideInfoForm();
                renderInfoList();
                updateInfoUI();
            }
            
            function deleteInfo(index) {
                if (confirm('Tem certeza que deseja excluir esta informação?')) {
                    let infos = JSON.parse(localStorage.getItem(`info_${currentInfoType}`) || '[]');
                    infos.splice(index, 1);
                    localStorage.setItem(`info_${currentInfoType}`, JSON.stringify(infos));
                    renderInfoList();
                    updateInfoUI();
                }
            }
            
            function updateInfoUI() {
                const infoTypes = ['ferias', 'licencas', 'expediente'];
                
                infoTypes.forEach(type => {
                    const infos = JSON.parse(localStorage.getItem(`info_${type}`) || '[]');
                    const container = document.querySelector(`.box-${type} .info-list`);
                    
                    // Limpar a lista preservando o botão de edição que está após a lista
                    container.innerHTML = '';
                    
                    infos.forEach(info => {
                        const li = document.createElement('li');
                        li.className = 'info-item';
                        
                        // Verifica se a informação contém parênteses para destacar
                        if (info.includes('(')) {
                            const parts = info.split('(');
                            const nome = parts[0].trim();
                            const complemento = '(' + parts[1];
                            
                            li.innerHTML = `<span class="info-destaque">${nome}</span> ${complemento}`;
                        } else {
                            li.textContent = info;
                        }
                        
                        container.appendChild(li);
                    });
                    
                    // Atualizar o contador no título se houver
                    const title = document.querySelector(`.box-${type} .box-title`);
                    if (title) {
                        // Encontrar o elemento span com a contagem se existir
                        const countSpan = title.querySelector('.count-badge');
                        if (countSpan) {
                            countSpan.textContent = infos.length.toString();
                        }
                    }
                });
            }
            
            // Event listeners para informações administrativas
            if (editFeriasBtn) {
                editFeriasBtn.addEventListener('click', () => openInfoModal('ferias'));
            }
            if (editLicencasBtn) {
                editLicencasBtn.addEventListener('click', () => openInfoModal('licencas'));
            }
            if (editExpedienteBtn) {
                editExpedienteBtn.addEventListener('click', () => openInfoModal('expediente'));
            }
            closeInfoModal.addEventListener('click', closeInfoModal);
            addInfoBtn.addEventListener('click', addInfo);
            cancelInfoForm.addEventListener('click', hideInfoForm);
            saveInfoForm.addEventListener('click', saveInfo);
            
            // Inicializar a interface com dados do localStorage
            updateAniversariantesUI();
            updateEquipesUI();
            updateInfoUI();
        });
    </script>
    <!-- Carregar script de edição de equipes -->
    <script src="escalas-editor.js"></script>
</body>
</html>